---
description: Configuration for SimpleCov to manage code coverage in a Rails application.
globs: ['.simplecov']
alwaysApply: false
---

# SimpleCov Configuration

## Overview
The `.simplecov` file is a configuration file for the SimpleCov gem, which is used to measure code coverage in Ruby applications, particularly those built with Rails. This file sets up the coverage reporting format and specifies which files to include or exclude from the coverage analysis.

## Key Components
- **Formatters**: The file specifies two formatters for the coverage report:
  - `HTMLFormatter`: Generates an HTML report that can be viewed in a web browser.
  - `JSONFormatter`: Outputs coverage data in JSON format, which can be useful for integration with other tools.

- **Coverage Groups**: The configuration groups different parts of the application for better organization in the coverage report:
  - `Controllers`: Includes files from the `app/controllers` directory.
  - `Models`: Includes files from the `app/models` directory.
  - `Services`: Includes files from the `app/services` directory.
  - `Jobs`: Includes files from the `app/jobs` directory.
  - `Mailers`: Includes files from the `app/mailers` directory.
  - `Policies`: Includes files from the `app/policies` directory.
  - `Serializers`: Includes files from the `app/serializers` directory.

- **Filters**: The configuration excludes certain directories from the coverage analysis to focus on the application's core code:
  - `/test/`
  - `/spec/`
  - `/config/`
  - `/vendor/`
  - `/db/`

- **Minimum Coverage**: The configuration sets minimum coverage thresholds:
  - Overall minimum coverage must be at least 80%.
  - Minimum coverage for individual files must be at least 70%.

## Dependencies
This file does not import or depend on any other files in the repository, nor is it imported by any other files. It serves as a standalone configuration for the SimpleCov tool.

## Usage Examples
To use this configuration, ensure that the SimpleCov gem is included in your Gemfile:
```ruby
# Gemfile
gem 'simplecov', require: false
```
Then, include the following line at the top of your test helper or spec helper file:
```ruby
require 'simplecov'
SimpleCov.start
```

## Best Practices
- Regularly check the coverage reports generated by SimpleCov to identify untested parts of your application.
- Aim to maintain or improve the minimum coverage thresholds set in this configuration.
- Consider adding additional groups or filters as your application grows to keep the coverage report relevant and useful.